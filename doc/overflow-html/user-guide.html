<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Moleculizer user guide</title></head><body><h1>Moleculizer user guide (draft)</h1><h2>Batch operation</h2><p>Moleculizer, for the time being, is a "batch-mode" program.  This means that you use it by preparing an input file, say "my-input.xml" with a separate editor, then run the program non-interactively from the input file.  From the command line, you might do this as simply as the following:</p><code>moleculizer &lt; my-input.xml</code><h2>Editing input files with xmloperator</h2><p>Moleculizer and the other main programs in the moleculizer distribution use <a href="http://www.w3.org/XML/">XML</a> for their input and most of their output.  A special editor, <em>xmloperator, </em>written by Didier Demaney, is included to make using XML easier. <em>Xmloperator </em>is a powerful program and will probably require some practice and dedication on your part to learn to use it well.  I hope that the provisions in this distribution for using it with Moleculizer and associated programs do it justice and make it worth your effort.  The home page for <em>xmloperator </em>is </p><a href="http://www.xmloperator.net"><code>http://www.xmloperator.net</code></a><p>The <em>xmloperator </em>user guide, announcements, new versions, etc. can be found there.</p><p>Because of preparations contained in your .xmloperator directory, this editor is also "aware" of the syntax of moleculizer input files, as well as the input files for other programs in this bundle, like <em>odie</em> and <em>rk4tau</em>.  It will generate a "skeleton" input file, and it will generally allow you to make only legal changes.</p><p>Each of xmloperator's <em>document types </em>combines a syntax specification with means of transforming the file into HTML.  The xmloperator document types associated with input files for Moleculizer and the other programs transform into HTML pages that link each entry in the input document to its page in Moleculizer docuementation.  Use "transform as" from the file menu to save the HTML file in a temporary location (say /tmp) and view the HTML file and documentation with your web browser.</p><p>In the document type names given below, "static-doc" refers to the fact that, in the standalone version, documentation pages for the file formats are provided as static HTML pages, pointed to by the links below.  In the soon-to-appear server version, the server generates documentation pages on demand and delivers them to you.</p><table border="1"><tr><th>Link to documentation</th><th>xmloperator document type</th><th>Purpose</th></tr><tr><td><a href="../static-doc/_moleculizer-input.html">moleculizer-input</a></td><td>moleculizer-input(static-doc)</td><td>Input to Moleculizer.</td></tr><tr><td><a href="../static-doc/_moleculizer-state.html">moleculizer-state</a></td><td>moleculizer-state(static-doc)</td><td>Reaction network dumped from Moleculizer.</td></tr><tr><td><a href="../static-doc/_odie.html">odie</a></td><td>odie(static-doc)</td><td>Input to ODE-based reaction system simulator.</td></tr><tr><td><a href="../static-doc/_rk4tau.html">rk4tau</a></td><td>rk4tau(static-doc)</td><td>Input to experimental tau-leaping simulator rk4tau.</td></tr></table><h2>Command-line options</h2><p>Moleculizer has only two command-line options, for controlling aspects of Moleculizer's operation without access to the input file: </p><ol><li><p>-t <em>seconds</em></p><p>This causes moleculizer to "time out" after the given (positive integer) number of (clock) seconds and dump the state of its reaction network in a file named "timeout-state.xml".  The dumped state, along with the original input file, can be used to restart the simulation later using the "continuator" version of moleculizer.</p></li><li><p>-s <em>"any old string"</em></p><p>This option uses whatever string you supply, such as the date and time, your name, or whatever, to seed the random number generator.  This option makes it easy to do independent runs of a simulation without altering the input file.</p></li></ol><p>Both of these command-line options are also valid for the "continuator" version of moleculizer.</p><h2>Examining output</h2><p>Moleculizer emits time-courses of populations of chemical species in columnar files.  <em>Gnuplot</em> is the main plotting program used with Moleculizer.  A wrapper program, <em>plt </em> makes it easy to plot columnar time-course files coming from Moleculizer or either of the demonstration simulators in the package. </p><table border="1"><tr><th>Option</th><th>Effect</th><th>Typical invocation</th></tr><tr><td>none</td><td>Plot data to screen once.</td><td>plt run_dir/stuff.dmp</td></tr><tr><td>-r</td><td>Plot data to screen and update (replot) every few seconds.  Generates a "live" updating plot of data coming from a running simulation.</td><td>plt -r run_dir/stuff.dmp</td></tr><tr><td>-n</td><td>Plot data to .png open-source graphics format.  The png graphics format is good for web applications.</td><td>plt -n run_dir/stuff.dmp &gt; stuff.png</td></tr><tr><td>-p</td><td>Plot data to PostScript output file.</td><td>plt -p run_dir/stuff.dmp &gt; stuff.ps</td></tr><tr><td>-f</td><td>Plot data to an xfig graphics document.  You can then edit the plot with the xfig graphics editor.</td><td>plt -f run_dir/stuff.dmp &gt; stuff.fig</td></tr></table><h2>Transforming reaction networks</h2><p>One of Moleculizer's main purposes is to generate reaction networks for use by other programs.  The reaction network in a moleculizer-state file can be translated into the input formats for the demonstration ODE solver "odie" and for the experimental tau-leaping simulator "rk4tau."</p><p>These translations are accomplished by means of XSLT transformations.  XSLT is an XML-based language for specifying transformations of XML files from one format into another.  Each of the transformations from moleculizer-state into the input format of one of the companion simulators has a wrapper script:</p><table border="1"><tr><th>Target format</th><th>Target program</th><th>Transformation script</th></tr><tr><td>odie</td><td>odie</td><td>state2odie</td></tr><tr><td>rk4tau</td><td>rk4tau</td><td>state2rk4tau</td></tr><tr><td>sbml</td><td>external programs</td><td>state2sbml</td></tr></table><p>The transformation scripts all have the same usage; for example:</p><code>state2odie moleculizer-state-file.xml odie-file.xml</code><h2>Companion programs</h2><p>Each of the companion programs (odie and rk4tau) has a few input requirements that are not provided by the moleculizer-state file that contains the reaction network.  An external program that uses SBML as its input format will not, in all likelihood, be able to accept directly the SBML file generated by translating a moleculizer-state file.  Here, for odie and rk4tau, are the "extra bits" that you will need to add manually after converting a moleculizer-state file to input for the companion simulator:</p><p>Odie extras:</p><ul><li><p><a href="../static-doc/_odie_stop-time.html">stop-time</a> -- Manually scheduled Moleculizer events, such as the stop event, are not translated from the moleculizer-state file for now.  You must enter the simulation time at which you want the odie simulation to stop here.</p></li><li><p><a href="../static-doc/_odie_epsilon-abs.html">epsilon-abs</a> -- This (usually small) number controls the absolute error of every component of the solution and its derivative when the component's value is near zero.  Away from zero, error is controlled relative to the size of the component.</p></li><li><p><a href="../static-doc/_odie_epsilon-rel.html">epsilon-rel</a> -- This (usually small) number controls the relative error of every component of the solution and its derivative when the component's value is far from zero.  Near zero, absolute error is controlled.</p></li><li><p><a href="../static-doc/_odie_state-scalar.html">state-scalar</a> -- This gives the relative weight of the solution (as opposed to its derivative) when computing relative or absolute error.  1.0 is a viable choice here.</p></li><li><p><a href="../static-doc/_odie_deriv-scalar.html">deriv-scalar</a> -- This gives the relative weight of the derivative (as opposed to the solution) when computing relative or absolute error.  1.0 is a viable choice here.</p></li></ul><p>If the "precision" controls (epsilon-rel and epsilon-abs) are set too large, then odie will not generate very many data points.  On the other hand, if they are set too small, then odie will generate far too many data points; i.e. odie's progress through the simulation will be too slow if the precision is too constrained.</p><p>Rk4tau extras:</p><ul><li><p><a href="../static-doc/_rk4tau_stop-time.html">stop-time</a> -- Manually scheduled Moleculizer events, such as the stop event, are not translated from the moleculizer-state file for now.  You must enter the simulation time at which you want the rk4tau simulation to stop here.</p></li><li><p><a href="../static-doc/_rk4tau_dump-interval.html">dump-interval</a> -- All the output files in rk4tau dump timepoints simultaneously.  Set the interval at which they write a line of output here.</p></li><li><p><a href="../static-doc/_rk4tau_epsilon.html">epsilon</a> -- This (usually small) number controls the the absolute error of every component of the solution.  </p></li><li><p><a href="../static-doc/_rk4tau_seed.html">seed</a> -- Allows seeding of the random number generator.</p></li></ul></body></html>