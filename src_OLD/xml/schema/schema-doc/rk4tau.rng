<?xml version="1.0" encoding="UTF-8"?>
<grammar-doc xmlns="http://relaxng.org/ns/structure/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0"><start><element name="rk4tau"><doc>This is the input file format for the rk4tau program, an experimental version of Gillespie's tau-leaping concept.  This is an approximate stochastic simulator that does not simulate every single reaction event.  Instead, it moves from timepoint to timepoint, estimating the number of each kind of reaction that occurs between timepoints.  The timepoints and the approximations of event counts come, basically, from 'forward' ODE technology, in this case 6th-order Runge-Kutta.</doc><element name="species"><doc>Here, you list all the species explicitly.</doc><zeroOrMore><element name="species-entry"><doc>The species in rk4tau are simple, rather than complexes as in moleculizer.  To describe one, all you need to do is give its name and its population at the start of the simulation.</doc><attribute name="name"><doc>Here you give the name of the speices.  The names of the species must all be distinct.</doc></attribute><attribute name="pop"><doc>Here, you give the initial population of the species.  This should be a non-negative integer, like 0, 7, or 599999.</doc></attribute></element></zeroOrMore></element><element name="reactions"><doc>In this section, you list all the reactions in the system in stoichiometric form, much like 'explicit reactions' in moleculizer.</doc><zeroOrMore><element name="reaction"><doc>You give a reaction by giving all of its reactant species, along with their multiplicities, and its product species, along with their multiplicities.</doc><zeroOrMore><element name="reaction-substrate"><doc>'Substrate' was an unfortunate choice here; 'reactant' would have been less confusing to those who do not hear mostly about enzymes.</doc><attribute name="name"><doc>Here, you give the name of the reactant species.</doc></attribute><attribute name="multiplicity"><doc>Here, you give the multiplicity of the reactant.  This should be a positive integer, like 1 or 2.  Reactions in nature only have reactants with multiplicity 1 or 2; 'higher order' reactions are really summaries of several reactions.</doc></attribute></element></zeroOrMore><zeroOrMore><element name="reaction-product"><doc>Here, you list reaction product species, along with their multiplicities.</doc><attribute name="name"><doc>Here, you give the name of the product species.</doc></attribute><attribute name="multiplicity"><doc>Here, you give the multiplicity of the product species; that is, how many molecules of the product species come out of the reaction.  This should be a positive integer, like 1 or 2.</doc></attribute></element></zeroOrMore><element name="rate"><doc>Here, you give the rate of the reaction.  The units of the rate depend on the 'arity' of the reaction; how many substrates it has and what their multiplicities are.  In nature, the important reactions are either unary or binary.  The rate of a unary reaction is in Hz, while the rate of a binary reaction is in (Hz)(l)/(mol)</doc><attribute name="value"><doc>This should be a non-negative floating point number, like 1.0, 2.3e-10, or 5e2.</doc></attribute></element></element></zeroOrMore></element><element name="dumpables"><doc>Dumpables generate columns of figures in dump files; such a column of figures is normally plotted as a trace on a plot along with the other dumpables in the same file.</doc><zeroOrMore><element name="dumpable"><doc>Dumpables show the total population of the specis that you list as their content species.  Each dumpable also has a name that is used as a column-header in the dump file and as the name of the trace when plotted.</doc><attribute name="name"><doc>This name is used as a column-header in the dump file and as the name of the trace when plotted.  All the dumpables must have distinct names.</doc></attribute><oneOrMore><element name="species-ref"><doc>Here you specify a species as one of the content species of a dumpable, meaning that the species's population is included in the population figures dumped by the dumpable.</doc><attribute name="name"><doc>This must be the name of a species.</doc></attribute></element></oneOrMore></element></zeroOrMore></element><element name="dump-streams"><doc>dump-streams are how you set up dump (.dmp) files.  You give the name of the file and what dumpables to dump as the columns of the .dmp file.  All the dump-streams dump at the same time points, specified in the 'dump-interval' element.</doc><zeroOrMore><element name="dump-stream"><doc>Each dump-stream represents a .dmp output file, from which simulation plots are made.</doc><attribute name="name"><doc>The name of the dump-stream is the actual file name of the file where the output is written.  Typically, you should only write .dmp output files in the working directory of the simulation.  Many scripts that run simulations for you expect the filenames of dump files to end with .dmp.  (This is the probable reason for a dump file's not being plotted by 'plot-dmp-files'.)</doc></attribute><zeroOrMore><element name="dumpable-ref"><doc>Here, you specify that a dumpable will be included in a dmp file as a column of figures, and therefore, as a trace when the dmp file is plotted. The dumpable's columns are arranged in the same order as these dumpable-ref elements.</doc><attribute name="name"><doc>This must be the name of a dumpable.</doc></attribute></element></zeroOrMore></element></zeroOrMore></element><element name="volume"><doc>Since rk4tau is a stochastic simulator, the volume is a critical ingredient.</doc><attribute name="liters"><doc>This should be a positive, floating point number, like 1.0, 2.3e-12, or 5e1.</doc></attribute></element><element name="stop-time"><doc>Here, you say how many seconds of simulation time you want to simulate.</doc><attribute name="seconds"><doc>This should be a non-negative floating point number, like 0, 3.5, or 1.0e2.</doc></attribute></element><element name="dump-interval"><doc>Use this element to say how frequently to dump a line of output into dmp files.  All the dump-streams dump synchronously.</doc><attribute name="seconds"><doc>This shoud be a positive, floating point number like 1.0e2, 1.3, or 1.0e-2.</doc></attribute></element><element name="epsilon"><doc>This element is used to control the accuracy of the tau-leaping simulation.  The smaller this number is, the harder rk4tau will try to accurately reflect true stochastic simulation.</doc><attribute name="value"><doc>This should be a non-negative floating point number, like 1.0e-4 or 3.5.  See the demos for some examples.</doc></attribute></element><element name="seed"><doc>This allows you to "reseed" the random number generator using an arbitrary string.</doc><attribute name="value"><doc>You can use an arbitrary string here; the date, time, process id, etc. can easily be combined to make this string.</doc></attribute></element></element></start></grammar-doc>